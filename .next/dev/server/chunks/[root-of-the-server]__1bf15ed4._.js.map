{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 136, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/admin/Desktop/project/MasterBrain-Learning-management-system/src/lib/email/constants.ts"],"sourcesContent":["export const EMAIL_FROM = `\"MasterBrain\" <no-reply@masterbrain.site>`;\r\nexport const ADMIN_EMAIL = process.env.EMAIL_TO!;\r\n"],"names":[],"mappings":";;;;;;AAAO,MAAM,aAAa,CAAC,yCAAyC,CAAC;AAC9D,MAAM,cAAc,QAAQ,GAAG,CAAC,QAAQ"}},
    {"offset": {"line": 148, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/admin/Desktop/project/MasterBrain-Learning-management-system/src/lib/email/templates/contact.template.ts"],"sourcesContent":["interface ContactTemplateProps {\r\n  name: string;\r\n  email: string;\r\n  phone?: string;\r\n  course?: string;\r\n  message: string;\r\n}\r\n\r\nexport const contactTemplate = ({\r\n  name,\r\n  email,\r\n  phone,\r\n  course,\r\n  message,\r\n}: ContactTemplateProps) => ({\r\n  subject: \"New Contact Form Submission\",\r\n  html: `\r\n    <div style=\"font-family: Arial, sans-serif; background-color: #f6f8fb; padding: 24px;\">\r\n      <div style=\"max-width: 640px; margin: 0 auto; background: #ffffff; border-radius: 12px; padding: 24px; border: 1px solid #e5e7eb;\">\r\n        <div style=\"display: flex; align-items: center; gap: 12px;\">\r\n         \r\n          <div>\r\n            <div style=\"font-size: 18px; font-weight: 700; color: #111827;\">New Contact Message</div>\r\n            <div style=\"font-size: 12px; color: #6b7280;\">MasterBrain Contact Form</div>\r\n          </div>\r\n        </div>\r\n\r\n        <div style=\"margin-top: 20px; padding: 16px; background: #f9fafb; border-radius: 10px; border: 1px solid #eef2f7;\">\r\n          <table style=\"width: 100%; border-collapse: collapse; font-size: 14px; color: #111827;\">\r\n            <tr>\r\n              <td style=\"padding: 6px 0; width: 140px; color: #6b7280;\">Name</td>\r\n              <td style=\"padding: 6px 0; font-weight: 600;\">${name}</td>\r\n            </tr>\r\n            <tr>\r\n              <td style=\"padding: 6px 0; width: 140px; color: #6b7280;\">Email</td>\r\n              <td style=\"padding: 6px 0; font-weight: 600;\">${email}</td>\r\n            </tr>\r\n            <tr>\r\n              <td style=\"padding: 6px 0; width: 140px; color: #6b7280;\">Phone / WhatsApp</td>\r\n              <td style=\"padding: 6px 0; font-weight: 600;\">${phone || \"Not provided\"}</td>\r\n            </tr>\r\n            <tr>\r\n              <td style=\"padding: 6px 0; width: 140px; color: #6b7280;\">Interested Course</td>\r\n              <td style=\"padding: 6px 0; font-weight: 600;\">${course || \"Not selected\"}</td>\r\n            </tr>\r\n          </table>\r\n        </div>\r\n\r\n        <div style=\"margin-top: 20px;\">\r\n          <div style=\"font-size: 13px; font-weight: 700; color: #111827; margin-bottom: 8px;\">Message</div>\r\n          <div style=\"font-size: 14px; line-height: 1.6; color: #111827; background: #ffffff; border-left: 4px solid #0f172a; padding: 12px 14px;\">\r\n            ${message}\r\n          </div>\r\n        </div>\r\n\r\n        <div style=\"margin-top: 24px; font-size: 12px; color: #6b7280; text-align: center;\">\r\n          Reply directly to this email to reach the sender.\r\n        </div>\r\n      </div>\r\n    </div>\r\n  `,\r\n});\r\n"],"names":[],"mappings":";;;;AAQO,MAAM,kBAAkB,CAAC,EAC9B,IAAI,EACJ,KAAK,EACL,KAAK,EACL,MAAM,EACN,OAAO,EACc,GAAK,CAAC;QAC3B,SAAS;QACT,MAAM,CAAC;;;;;;;;;;;;;;;4DAemD,EAAE,KAAK;;;;4DAIP,EAAE,MAAM;;;;4DAIR,EAAE,SAAS,eAAe;;;;4DAI1B,EAAE,UAAU,eAAe;;;;;;;;YAQ3E,EAAE,QAAQ;;;;;;;;;EASpB,CAAC;IACH,CAAC"}},
    {"offset": {"line": 204, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/admin/Desktop/project/MasterBrain-Learning-management-system/src/app/api/contact/route.ts"],"sourcesContent":["import { NextResponse } from \"next/server\";\r\nimport nodemailer from \"nodemailer\";\r\n\r\nimport { EMAIL_FROM, ADMIN_EMAIL } from \"@/src/lib/email/constants\";\r\nimport { contactTemplate } from \"@/src/lib/email/templates/contact.template\";\r\n\r\ntype ContactPayload = {\r\n  fullName: string;\r\n  email: string;\r\n  phone?: string;\r\n  course?: string;\r\n  message: string;\r\n};\r\n\r\nconst isNonEmpty = (value?: string) => Boolean(value && value.trim().length > 0);\r\n\r\nexport async function POST(req: Request) {\r\n  try {\r\n    const body = (await req.json()) as ContactPayload;\r\n\r\n    if (!isNonEmpty(body.fullName) || !isNonEmpty(body.email) || !isNonEmpty(body.message)) {\r\n      return NextResponse.json(\r\n        { error: \"Full name, email, and message are required.\" },\r\n        { status: 400 }\r\n      );\r\n    }\r\n\r\n    const emailUser = process.env.EMAIL_USER;\r\n    const emailPass = process.env.EMAIL_PASS;\r\n\r\n    if (!emailUser || !emailPass || !ADMIN_EMAIL) {\r\n      return NextResponse.json(\r\n        { error: \"Email service is not configured.\" },\r\n        { status: 500 }\r\n      );\r\n    }\r\n\r\n    const transporter = nodemailer.createTransport({\r\n      service: \"gmail\",\r\n      auth: {\r\n        user: emailUser,\r\n        pass: emailPass,\r\n      },\r\n    });\r\n\r\n    const { subject, html } = contactTemplate({\r\n      name: body.fullName.trim(),\r\n      email: body.email.trim(),\r\n      phone: body.phone?.trim(),\r\n      course: body.course?.trim(),\r\n      message: body.message.trim(),\r\n    });\r\n\r\n    await transporter.sendMail({\r\n      from: EMAIL_FROM,\r\n      to: ADMIN_EMAIL,\r\n      replyTo: body.email.trim(),\r\n      subject,\r\n      html,\r\n    });\r\n\r\n    return NextResponse.json({ ok: true });\r\n  } catch (error) {\r\n    console.error(\"Contact form error:\", error);\r\n    return NextResponse.json(\r\n      { error: \"Failed to send message. Please try again later.\" },\r\n      { status: 500 }\r\n    );\r\n  }\r\n}\r\n"],"names":[],"mappings":";;;;AAAA;AACA;AAEA;AACA;;;;;AAUA,MAAM,aAAa,CAAC,QAAmB,QAAQ,SAAS,MAAM,IAAI,GAAG,MAAM,GAAG;AAEvE,eAAe,KAAK,GAAY;IACrC,IAAI;QACF,MAAM,OAAQ,MAAM,IAAI,IAAI;QAE5B,IAAI,CAAC,WAAW,KAAK,QAAQ,KAAK,CAAC,WAAW,KAAK,KAAK,KAAK,CAAC,WAAW,KAAK,OAAO,GAAG;YACtF,OAAO,+PAAY,CAAC,IAAI,CACtB;gBAAE,OAAO;YAA8C,GACvD;gBAAE,QAAQ;YAAI;QAElB;QAEA,MAAM,YAAY,QAAQ,GAAG,CAAC,UAAU;QACxC,MAAM,YAAY,QAAQ,GAAG,CAAC,UAAU;QAExC,IAAI,CAAC,aAAa,CAAC,aAAa,CAAC,iJAAW,EAAE;YAC5C,OAAO,+PAAY,CAAC,IAAI,CACtB;gBAAE,OAAO;YAAmC,GAC5C;gBAAE,QAAQ;YAAI;QAElB;QAEA,MAAM,cAAc,oNAAU,CAAC,eAAe,CAAC;YAC7C,SAAS;YACT,MAAM;gBACJ,MAAM;gBACN,MAAM;YACR;QACF;QAEA,MAAM,EAAE,OAAO,EAAE,IAAI,EAAE,GAAG,IAAA,4KAAe,EAAC;YACxC,MAAM,KAAK,QAAQ,CAAC,IAAI;YACxB,OAAO,KAAK,KAAK,CAAC,IAAI;YACtB,OAAO,KAAK,KAAK,EAAE;YACnB,QAAQ,KAAK,MAAM,EAAE;YACrB,SAAS,KAAK,OAAO,CAAC,IAAI;QAC5B;QAEA,MAAM,YAAY,QAAQ,CAAC;YACzB,MAAM,gJAAU;YAChB,IAAI,iJAAW;YACf,SAAS,KAAK,KAAK,CAAC,IAAI;YACxB;YACA;QACF;QAEA,OAAO,+PAAY,CAAC,IAAI,CAAC;YAAE,IAAI;QAAK;IACtC,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,uBAAuB;QACrC,OAAO,+PAAY,CAAC,IAAI,CACtB;YAAE,OAAO;QAAkD,GAC3D;YAAE,QAAQ;QAAI;IAElB;AACF"}}]
}